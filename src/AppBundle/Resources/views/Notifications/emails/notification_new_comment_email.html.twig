{# Données :
- eventInvitation (EventInvitation) L'invitation de l'invité à qui envoyer l'email
- notification (Notification) La notification a envoyé
- triggerer (EventInvitation) L'invité ayant généré la notification
#}

{% block subject %}
    {% autoescape false %}
        {{ 'notifications.emails.new_comment.subject'|trans({"%event_name%":eventInvitation.event.name}) }}
    {% endautoescape %}
{% endblock %}
{% block body_text %}
    {% autoescape false %}
        {{ 'notifications.emails.new_comment.body.hello'|trans({'%username%': eventInvitation.displayableName(true, false)}) }}
        {% if notification.data.subject.type == 'module' %}
            {{ 'notifications.emails.new_comment.body.paragraph_module'|trans({"%triggerer%":triggerer.displayableName(true, true), "%subject_name%":notification.data.subject.name}) }}
        {% else %}
            {{ 'notifications.emails.new_comment.body.paragraph_event'|trans({"%triggerer%":triggerer.displayableName(true, true)}) }}
        {% endif %}
        {% if notification.data.message is not empty %}
            {{ notification.data.message }}
        {% endif %}
        {{ 'notifications.emails.new_comment.body.invitation_link'|trans }}
        {{ url('displayEventInvitation', {'token':eventInvitation.token}) }}

        {{ "email.salutation"|trans }},
        {{ "email.signature.yziplan"|trans }}
    {% endautoescape %}
{% endblock %}
{% block body_html %}{% spaceless %}
    <body style="margin: 0; padding: 0; font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif; box-sizing: border-box; font-size: 14px; width: 100% !important; height: 100%;
line-height: 1.6; background-color: #f6f6f6;">
    <table style="background-color: #f6f6f6; width: 100%;">
        <tr>
            <td></td>
            <td style="display: block !important; max-width: 600px !important; margin: 0 auto !important; clear: both !important;" width="600">
                <div style="max-width: 600px; margin: 0 auto; display: block; padding: 20px;">
                    <table style="background: #fff; border: 1px solid #e9e9e9; border-radius: 3px;" width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td style="padding: 20px;">
                                <table style="background: #fff;" width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td style="background-color: #009688; text-align: center;">
                                            <h1 style="font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif; color: white; line-height: 1.2; font-weight: 400;">{{ "global.project_name"|trans }}</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0 0 20px;">
                                            <h3 style="font-size: 18px; font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif; color: #000; margin: 40px 0 0; line-height: 1.2;
                                        font-weight: 400;">{{ "notifications.emails.new_comment.body.hello"|trans({"%username%":eventInvitation.displayableName(true, false)}) }}</h3>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0 0 20px;">
                                            {% if notification.data.subject.type == 'module' %}
                                                {{ 'notifications.emails.new_comment.body.paragraph_module'|trans({"%triggerer%":triggerer.displayableName(true, true), "%subject_name%":notification.data.subject.name}) }}
                                            {% else %}
                                                {{ 'notifications.emails.new_comment.body.paragraph_event'|trans({"%triggerer%":triggerer.displayableName(true, true)}) }}
                                            {% endif %}
                                            {% if notification.data.message is not empty %}
                                                <div style="min-height: 20px;padding: 9px;margin-bottom: 20px;background-color: #f5f5f5;border: 1px solid #e3e3e3;border-radius: 2px;
                                                -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05); box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);">
                                                    {{ notification.data.message }}
                                                </div>
                                            {% endif %}
                                            {{ 'notifications.emails.new_comment.body.invitation_link'|trans }}<br>
                                            {{ url('displayEventInvitation', {'token':eventInvitation.token}) }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0 0 5px;">
                                            <p>{{ "email.salutation"|trans }},</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0 0 20px;">
                                            <h4>{{ "email.signature.yziplan"|trans }}</h4>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <div style=" width: 100%; clear: both; color: #999; padding: 20px;">
                        <table width="100%">
                            <tr>
                                <td style="padding: 0 0 20px; text-align: center;"><a style="color: #999; font-size: 12px;" href="{{ url("home") }}">{{ "global.project_name"|trans }}
                                        - {{ url("home") }}</a></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </td>
            <td></td>
        </tr>
    </table>

    </body>
{% endspaceless %}{% endblock %}
