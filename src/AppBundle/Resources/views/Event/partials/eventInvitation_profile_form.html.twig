{# Données d'entrée :
- userEventInvitation (EventInvitation) Invitation de l'utilisateur de l'utilisateur
- userEventInvitationForm (Form) Formulaire du profil de l'invité pour l'invitation
#}

<div id="eventInvitationProfile_formContainer">
    {{ form_start(userEventInvitationForm, {'action': path('displayEvent',{'token':userEventInvitation.event.token}), 'attr':{'id':'userEventInvitationProfile'}}) }}
    {{ form_row(userEventInvitationForm.guestName, {
        'label':'eventInvitation.form.guestname.label'|trans,
        'attr':{'placeholder':'eventInvitation.form.guestname.placeholder'},
        'fgline' : true
    }) }}
    {{ form_row(userEventInvitationForm.email, {
        'label':'eventInvitation.form.email.label',
        'attr':{'placeholder':'eventInvitation.form.email.placeholder'},
        'fgline' : true
    }) }}
    {{ form_row(userEventInvitationForm.answer, {
        'label':'eventInvitation.form.answer.label',
        'attr':{'placeholder':'eventInvitation.form.answer.placeholder'},
        'fgline' : true
    }) }}
    {{ form_rest(userEventInvitationForm) }}

    <div class="p-t-15 p-b-15 text-right">
        {% if not is_granted("IS_AUTHENTICATED_REMEMBERED") and (userEventInvitation.applicationUser is null or userEventInvitation.applicationUser.accountUser is null)
        and userEventInvitation.status is not constant('AppBundle\\Utils\\enum\\EventInvitationStatus::AWAITING_VALIDATION') %}
            <i class="m-r-10"><a href="{{ path('disconnectEventInvitation', {'eventToken':userEventInvitation.event.token}) }}">
                    {{ "eventInvitation.maindata.card.text.disconnect"|trans({'%user%': userEventInvitation.displayableName}) }}
                </a></i>
        {% endif %}
        {% if userEventInvitationForm is defined %}
            <button type="submit" class="btn btn-primary waves-effect">{{ "global.button.save"|trans }}</button>
        {% endif %}
    </div>
    {{ form_end(userEventInvitationForm) }}
    <script>
        $('form#userEventInvitationProfile').on("submit", function (e) {
            ajaxFormSubmission(this, e, null, null, null);
        });
    </script>
</div>